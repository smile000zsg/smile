<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<base href="/PhoneQQ/"/>
	<meta name="viewport"
         content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
	<title>QQ-首页</title>
	<link rel="stylesheet" href="css/bootstrap.css" />
	<link rel="stylesheet" href="css/index.css"/>
</head>
	 
	<body>
		<!--
		<div class="tiao"
			style="display: flex;font-size:1.8rem;background:#00BEE5;color:white;justify-content: space-between;">
			<div>&nbsp;4G</div>
			<div>12:30</div>
			<div>30%&nbsp;&nbsp;</div>
		</div>
		-->
		<div class="box-blue">
			<div class="img-1"><img src="img/tou-2.png" class="tou-img"></div>
			<div class="message">消息</div>
			<div class="jia"><img src="img/R_k_uyy_png.png"></div>
		</div>
		<section>
			<div class="section-max-box">
			<div class="input-search">
				<div class="search-box"><span><img src="img/R_k_ric_png.png">&nbsp;</span>搜索</div>
			</div>
			<div class="section-box">
				<div class="row-box" style="display: flex;">
					<div class="row" style="">
						<div class="friend-tou-box"><img src="img/tttt.jpg" class="friend-tou"></div>
						<div class="friend-box">
							<div class="friend-name-box">
								<div class="friend-name">刘德华</div>
								<div class="friend-time">20:38</div>
							</div>
							<div class="new-message">
								<div class="friend-message">多级去吃饭</div>
								<div  class="new-num">5</div>
							</div>
						</div>
					</div>
					<div class="friend-delete">
						删除
					</div>
				</div>
				<div style="border-bottom: 1px solid silver;"></div>
				<div class="row-box" style="display: flex;">
					<div class="row" style="">
						<div class="friend-tou-box"><img src="img/tttt.jpg" class="friend-tou"></div>
						<div class="friend-box">
							<div class="friend-name-box">
								<div class="friend-name">刘德华</div>
								<div class="friend-time">20:38</div>
							</div>
							<div class="friend-message">多级去吃饭</div>
						</div>
					</div>
					<div class="friend-delete">
						删除
					</div>
				</div>
				<div style="border-bottom: 1px solid silver;"></div>
				<div class="row-box" style="display: flex;">
					<div class="row" style="">
						<div class="friend-tou-box"><img src="img/tttt.jpg" class="friend-tou"></div>
						<div class="friend-box">
							<div class="friend-name-box">
								<div class="friend-name">刘德华</div>
								<div class="friend-time">20:38</div>
							</div>
							<div class="friend-message">多级去吃饭</div>
						</div>
					</div>
					<div class="friend-delete">
						删除
					</div>
				</div>
				<div style="border-bottom: 1px solid silver;"></div>
				<div class="row-box" style="display: flex;">
					<div class="row" style="">
						<div class="friend-tou-box"><img src="img/tttt.jpg" class="friend-tou"></div>
						<div class="friend-box">
							<div class="friend-name-box">
								<div class="friend-name">刘德华</div>
								<div class="friend-time">20:38</div>
							</div>
							<div class="friend-message">多级去吃饭</div>
						</div>
					</div>
					<div class="friend-delete">
						删除
					</div>
				</div>
				<div style="border-bottom: 1px solid silver;"></div>
				<div class="row-box" style="display: flex;">
					<div class="row" style="">
						<div class="friend-tou-box"><img src="img/tttt.jpg" class="friend-tou"></div>
						<div class="friend-box">
							<div class="friend-name-box">
								<div class="friend-name">刘德华</div>
								<div class="friend-time">20:38</div>
							</div>
							<div class="friend-message">多级去吃饭</div>
						</div>
					</div>
					<div class="friend-delete">
						删除
					</div>
				</div>
				<div style="border-bottom: 1px solid silver;"></div>
				<div class="row-box" style="display: flex;">
					<div class="row" style="">
						<div class="friend-tou-box"><img src="img/tttt.jpg" class="friend-tou"></div>
						<div class="friend-box">
							<div class="friend-name-box">
								<div class="friend-name">刘德华</div>
								<div class="friend-time">20:38</div>
							</div>
							<div class="friend-message">多级去吃饭</div>
						</div>
					</div>
					<div class="friend-delete">
						删除
					</div>
				</div>
				<div style="border-bottom: 1px solid silver;"></div>
				<div class="row-box" style="display: flex;">
					<div class="row" style="">
						<div class="friend-tou-box"><img src="img/tttt.jpg" class="friend-tou"></div>
						<div class="friend-box">
							<div class="friend-name-box">
								<div class="friend-name">刘德华</div>
								<div class="friend-time">20:38</div>
							</div>
							<div class="friend-message">多级去吃饭</div>
						</div>
					</div>
					<div class="friend-delete">
						删除
					</div>
				</div>
				<div style="border-bottom: 1px solid silver;"></div>
				<div class="row-box" style="display: flex;">
					<div class="row" style="">
						<div class="friend-tou-box"><img src="img/tttt.jpg" class="friend-tou"></div>
						<div class="friend-box">
							<div class="friend-name-box">
								<div class="friend-name">刘德华</div>
								<div class="friend-time">20:38</div>
							</div>
							<div class="friend-message">多级去吃饭</div>
						</div>
					</div>
					<div class="friend-delete">
						删除
					</div>
				</div>
				<div style="border-bottom: 1px solid silver;"></div>
				<div class="row-box" style="display: flex;">
					<div class="row" style="">
						<div class="friend-tou-box"><img src="img/tttt.jpg" class="friend-tou"></div>
						<div class="friend-box">
							<div class="friend-name-box">
								<div class="friend-name">刘德华</div>
								<div class="friend-time">20:38</div>
							</div>
							<div class="friend-message">多级去吃饭</div>
						</div>
					</div>
					<div class="friend-delete">
						删除
					</div>
				</div>
				<div style="border-bottom: 1px solid silver;"></div>
				<div class="row-box" style="display: flex;">
					<div class="row" style="">
						<div class="friend-tou-box"><img src="img/tttt.jpg" class="friend-tou"></div>
						<div class="friend-box">
							<div class="friend-name-box">
								<div class="friend-name">刘德华</div>
								<div class="friend-time">20:38</div>
							</div>
							<div class="friend-message">多级去吃饭</div>
						</div>
					</div>
					<div class="friend-delete">
						删除
					</div>
				</div>
				<div style="border-bottom: 1px solid silver;"></div>
			</div>
			</div>
			<div class="footer-box">
				<div>
					<img src="img/l2.png" style="margin-top:0.1rem;">
					<p style="margin-top:0.4rem;">消息</p>
				</div>
				<div>
					<img src="img/lx2.png" >
					<p style="margin-top:0.3rem;">联系人</p>
				</div>
				<div>
					<img src="img/k1.png" style="margin-top:0.2rem;">
					<p style="margin-top:0.5rem;">看点</p>
				</div>
				<div>
					<img src="img/d2.png">
					<p style="margin-top:0.4rem;">动态</p>
				</div>
			</div>
		</section>
	</body>
	<script type="text/javascript" src="js/zepto.js" ></script>
	<script type="text/javascript">
		$(function(){
			var x_start;  //记录点击的起始位置
			var left_start=0;  //.item_content每次滑动的起始margin-left
			//获得删除div的宽度
			var w = $(".friend-delete").width();
			//触摸开始
			$(".row-box").on("touchstart",function(){
				x_start = event.changedTouches[0].clientX;
				//获得当前.item_content的margin-left
				//因为获得值带有px，通过parseInt就可以去掉px，只保留数字，方便后面运算
				left_start = parseInt($(".row",this).css("margin-left"));
			});
			
			//触摸中
			$(".row-box").on("touchmove",function(){
				//获得当前位置
				var x_end = event.changedTouches[0].clientX;
				//改变margin-left的值
				//原来的值+滑动的距离(向左为负数，向右为正数)
				$(".row",this).css({
					marginLeft : left_start + (x_end - x_start)
				});
			});
			//触摸结束
			$(".row-box").on("touchend",function(){
				var x_end = event.changedTouches[0].clientX;
				var len = x_end - x_start;//计算滑动距离
				//left：表示滑动松开鼠标(手指)时，div应该滑到哪里去（left值是多少）
				//   有三种可能:1.向左滑，删除div出现，2.向右滑，删除div隐藏，3.滑动的距离太小，回到起始位置
				var left = left_start;//默认回到本次滑动时的原点,即没有滑过去
				//如果超过了删除div宽度的1/3，就自动的完全的滑过去
				if(Math.abs(len) > w/3){//Math.abs求绝对值，向左为负数，向右为正数
					left = 0;//默认向右,回到0
					if(len<0){//如果向左
						left = -w;//.item-content:向左移动一个删除div的宽度w
					}
				}
				//自动滑动最终位置
				$(".row",this).animate({
						marginLeft :left
				},200);
			});
		});
	</script>
</html>